<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- favicon -->
    <link rel="icon" href="favicon/favicon.ico" />
    <link
      rel="icon"
      type="image/png"
      href="favicon/favicon-96x96.png"
      sizes="96x96"
    />
    <link rel="icon" type="image/svg+xml" href="favicon/favicon.svg" />
    <link rel="shortcut icon" href="favicon/favicon.ico" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="favicon/apple-touch-icon.png"
    />
    <link rel="manifest" href="favicon/site.webmanifest" />
    <title>Avi</title>
    <style>
      body {
        font-family: sans-serif;
        text-align: center;
        margin: 2em;
      }

      img.profile {
        border-radius: 50%;
        width: 120px;
        height: 120px;
        margin-top: 1em;
        margin-bottom: 1em;
      }

      h1 {
        margin-bottom: 0.5em;
      }
      h2 {
        margin-bottom: 1em;
      }
      p {
        color: #555;
        margin-bottom: 1em;
      }

      .links {
        display: flex;
        justify-content: center;
        gap: 2em;
        margin-top: 1.5em;
        margin-bottom: 1.5em;
      }

      .links a img {
        width: 100px;
        height: 40px;
        transition: transform 0.2s ease;
      }

      .links a:hover img {
        transform: scale(1.1);
      }

      /* Badge row styling */
      .badge-row {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        flex-wrap: wrap; /* wrap on small screens */
        margin-top: 0.5em;
        margin-bottom: 1em;
      }
      .badge-row a img {
        height: 22px; /* uniform, slightly smaller */
        width: auto;
        vertical-align: middle;
      }
      @media (max-width: 480px) {
        .badge-row a img {
          height: 20px;
        }
      }

      #language-switcher {
        margin-bottom: 1.5em;
        margin-top: 0.5em;
      }
      #language-toggle {
        cursor: pointer;
        padding: 0.5em 1em;
        background-color: transparent;
        color: black;
        border: none;
        border-radius: 50px;
        font-size: 1.2em;
        margin-bottom: 0.5em;
      }

      /* Full black background with stars */
      .sky {
        position: relative;
        width: 100vw;
        height: 100vh;
        background-color: black;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .sky::before {
        content: "";
        position: absolute;
        width: 200%;
        height: 200%;
        background: transparent;
        box-shadow: 10px 20px white, 50px 80px white, 100px 40px white,
          150px 150px white, 200px 200px white, 250px 100px white,
          300px 220px white, 350px 180px white, 400px 60px white,
          450px 90px white, 500px 130px white, 550px 170px white,
          600px 40px white, 650px 200px white, 700px 110px white;
        animation: twinkle 3s infinite ease-in-out alternate;
      }

      @keyframes twinkle {
        0% {
          opacity: 0.3;
        }
        50% {
          opacity: 1;
        }
        100% {
          opacity: 0.3;
        }
      }

      .Rocket {
        transition: transform 1s ease-in-out;
      }
      .Rocket:hover {
        animation: hoverDiagonal 1.5s ease-in-out infinite;
      }

      @keyframes hoverDiagonal {
        0%,
        100% {
          transform: translate(0, 0);
        }
        50% {
          transform: translate(-4px, -3px);
        }
      }

      /* Typing effect for subtitle */
      .type-container {
        font-size: 20px; /* subtitle size */
        font-weight: 500;
        display: inline-flex;
        align-items: center;
      }

      .cursor {
        display: inline-block;
        width: 2px;
        height: 1em;
        background-color: currentColor; /* matches text color automatically */
        margin-left: 5px;
        animation: blink 0.7s infinite;
      }

      @keyframes blink {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0;
        }
      }
    </style>
  </head>
  <body class="container" style="max-width: 600px; margin: auto">
    <img
      class="profile"
      src="https://avatars.githubusercontent.com/inspiringsource"
      alt="Profile"
    />

    <!-- Static name -->
    <h1 data-i18n="name"></h1>

    <!-- Animated subtitle -->
    <h2>
      <span class="type-container">
        <span class="typed-subtitle"></span>
        <span class="cursor"></span>
      </span>
    </h2>

    <!-- Languages -->
    <button id="language-toggle"></button>
    <p data-i18n="paragraph1"></p>
    <br />
    <div class="badge-row">
      <a
        href="https://pypi.org/project/shellpomodoro/"
        target="_blank"
        rel="noopener"
      >
        <img
          src="https://img.shields.io/pypi/v/shellpomodoro.svg?style=flat-square"
          alt="PyPI version"
        />
      </a>
      <a
        href="https://pypi.org/project/shellpomodoro/"
        target="_blank"
        rel="noopener"
      >
        <img
          src="https://img.shields.io/pypi/pyversions/shellpomodoro.svg?style=flat-square"
          alt="Python versions"
        />
      </a>
      <a
        href="https://opensource.org/licenses/MIT"
        target="_blank"
        rel="noopener"
      >
        <img
          src="https://img.shields.io/badge/License-MIT-yellow.svg?style=flat-square"
          alt="MIT License"
        />
      </a>
    </div>

    <div class="links" style="margin-bottom: 1.5em">
      <a href="https://github.com/inspiringsource" target="_blank">
        <img src="logo/github.png" alt="GitHub" />
      </a>
      <a href="https://leetcode.com/u/inspiringsource/" target="_blank">
        <img src="logo/leetcode.png" alt="LeetCode" />
      </a>
    </div>

    <footer style="margin-top: 1.5em">
      <a
        href="https://github.com/gayanvoice/top-github-users/blob/main/markdown/public_contributions/switzerland.md"
        target="_blank"
        style="display: block; margin-bottom: 1em"
      >
        <img
          src="https://github.com/gayanvoice/top-github-users/actions/workflows/action.yml/badge.svg"
          alt="Top GitHub Users CH"
        />
      </a>
      <p style="margin-top: 1em"></p>
    </footer>

    <script>
      const chFlag = `<svg width="1.6em" height="1.6em" viewBox="0 0 512 512" style="vertical-align:middle;margin-right:0.3em;" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_221_2)">
<mask id="mask0_221_2" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="512" height="512">
<path d="M256 512C397.385 512 512 397.385 512 256C512 114.615 397.385 0 256 0C114.615 0 0 114.615 0 256C0 397.385 114.615 512 256 512Z" fill="white"/>
</mask>
<g mask="url(#mask0_221_2)">
<path d="M0 0H512V512H0V0Z" fill="#D80027"/>
<path d="M389.6 211.5H300.6V122.5H211.5V211.5H122.5V300.5H211.5V389.5H300.5V300.5H389.5L389.6 211.5Z" fill="#EEEEEE"/>
</g>
</g>
<defs>
<clipPath id="clip0_221_2"><rect width="512" height="512" fill="white"/></clipPath>
</defs>
</svg>`;

      const gbFlag = `<svg width="1.6em" height="1.6em" viewBox="0 0 512 512" style="vertical-align:middle;margin-right:0.3em;" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_221_9)">
<mask id="mask0_221_9" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="512" height="512">
<path d="M256 512C397.385 512 512 397.385 512 256C512 114.615 397.385 0 256 0C114.615 0 0 114.615 0 256C0 397.385 114.615 512 256 512Z" fill="white"/>
</mask>
<g mask="url(#mask0_221_9)">
<path d="M0 0L8 22L0 45V68L32 122L0 176V208L32 256L0 304V336L32 390L0 444V512L22 504L45 512H68L122 480L176 512H208L256 480L304 512H336L390 480L444 512H512L504 490L512 467V444L480 390L512 336V304L480 256L512 208V176L480 122L512 68V0L490 8L467 0H444L390 32L336 0H304L256 32L208 0H176L122 32L68 0H0Z" fill="#EEEEEE"/>
<path d="M336 0V108L444 0H336ZM512 68L404 176H512V68ZM0 176H108L0 68V176ZM68 0L176 108V0H68ZM176 512V404L68 512H176ZM0 444L108 336H0V444ZM512 336H404L512 444V336ZM444 512L336 404V512H444Z" fill="#0052B4"/>
<path d="M0 0V45L131 176H176L0 0ZM208 0V208H0V304H208V512H304V304H512V208H304V0H208ZM467 0L336 131V176L512 0H467ZM176 336L0 512H45L176 381V336ZM336 336L512 512V467L381 336H336Z" fill="#D80027"/>
</g>
</g>
<defs>
<clipPath id="clip0_221_9"><rect width="512" height="512" fill="white"/></clipPath>
</defs>
</svg>`;

      const translations = {
        de: {
          name: "Avi Bobrovsky",
          subtitle: "Webentwickler und Informatikstudent",
          paragraph1:
            "Ich bin Avi und studiere aktuell den Bachelor of Science an der FHNW in Aargau. Mein Fokus ist es, Tools zu programmieren, die kleinere Probleme lösen, damit wir uns auf die grösseren Aufgaben konzentrieren können.",
        },
        en: {
          name: "Avi Bobrovsky",
          subtitle: "Web Developer and CS Student",
          paragraph1:
            "I’m Avi, currently pursuing a Bachelor of Science at FHNW in Aargau. My focus is on developing tools that solve smaller problems, so we can concentrate on tackling bigger challenges.",
        },
      };

      // One-time typing for subtitle
      function typeSubtitleOnce(text) {
        const el = document.querySelector(".typed-subtitle");
        el.textContent = "";
        let i = 0;
        (function typeChar() {
          if (i <= text.length) {
            el.textContent = text.slice(0, i);
            i++;
            setTimeout(typeChar, 100); // speed
          }
        })();
      }

      function setLanguage(lang) {
        // Static name
        const nameEl = document.querySelector('[data-i18n="name"]');
        if (nameEl) nameEl.textContent = translations[lang].name;

        // Animated subtitle
        typeSubtitleOnce(translations[lang].subtitle);

        // Other translatable fields
        document.querySelectorAll("[data-i18n]").forEach((el) => {
          const key = el.getAttribute("data-i18n");
          if (key && key !== "name") {
            el.textContent = translations[lang][key] || el.textContent;
          }
        });

        localStorage.setItem("lang", lang);
        document.documentElement.lang = lang;
        document.getElementById("language-toggle").innerHTML =
          lang === "de" ? chFlag : gbFlag;
      }

      // Default language
      const defaultLang = "de";
      const savedLang = localStorage.getItem("lang") || defaultLang;

      // Initialize
      setLanguage(savedLang);

      // Toggle language
      document
        .getElementById("language-toggle")
        .addEventListener("click", () => {
          const currentLang = localStorage.getItem("lang") || defaultLang;
          const nextLang = currentLang === "de" ? "en" : "de";
          setLanguage(nextLang);
        });
    </script>
  </body>
</html>
